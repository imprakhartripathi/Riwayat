<div class="profile-container mat-elevation-z4">
  <div class="profile-header">
    <div class="profile-image-container">
      <img [src]="profileImage" alt="Profile Image" class="profile-image">
      <button mat-mini-fab style="background-color: #d6a553; color: black" class="edit-image-button" (click)="fileInput.click()" *ngIf="isEditing">
        <mat-icon>camera_alt</mat-icon>
      </button>
      <input type="file" #fileInput style="display: none" (change)="onFileSelected($event)">
    </div>
  </div>

  <div class="profile-details">
    <h2>{{ profileData.name }}</h2>
    <p *ngIf="!isEditing"><strong>User ID:</strong> {{ profileData.username }}</p>

    <div class="profile-info">
      <mat-form-field appearance="outline" *ngIf="isEditing">
        <mat-label>Email</mat-label>
        <input matInput [(ngModel)]="editedProfileData.email">
      </mat-form-field>
      <p *ngIf="!isEditing"><strong>Email:</strong> {{ profileData.email }}</p>

      <mat-form-field appearance="outline" *ngIf="isEditing">
        <mat-label>Phone</mat-label>
        <input matInput [(ngModel)]="editedProfileData.phone">
      </mat-form-field>
      <p *ngIf="!isEditing"><strong>Phone:</strong> {{ profileData.phone }}</p>
    </div>
  </div>

  <div class="btn">
    <div class="profile-actions">
      <button mat-icon-button (click)="onEdit()" matTooltip="Edit Info" aria-label="Edit Info" *ngIf="!isEditing">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button color="primary" matTooltip="Save" aria-label="Save" (click)="onSave()" *ngIf="isEditing">
        <mat-icon>save</mat-icon>
      </button>
      <button mat-icon-button color="warn" matTooltip="Discard" aria-label="Discard" (click)="onCancel()" *ngIf="isEditing">
        <mat-icon>cancel</mat-icon>
      </button>
    </div>
    <button mat-icon-button 
            class="btn-logout" 
            matTooltip="Log Out"
            aria-label="Log Out"
            (click)="logOut()" 
    ><mat-icon>lock</mat-icon></button>
  </div>
</div>
