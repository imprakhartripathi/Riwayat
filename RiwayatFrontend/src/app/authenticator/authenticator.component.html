<div class="auth-container">
  <div class="auth-dialog">
    <div class="auth-left">
      <img src="../../assets/Riwayat.png" alt="Logo" class="logo" />
      <h2>{{ isLogin ? 'Login' : 'Sign Up' }}</h2>
      <button class="switch-btn" mat-button (click)="continueAsGuest()">
        Continue as Guest
      </button>
      <button *ngIf="!dialogRef" class="showcase-btn" mat-button (click)="goToShowcase()">
        Go to Showcase Website
      </button>
    </div>
    <div class="auth-right">
      <!-- Single form for both Login and Sign-Up with (ngSubmit)="onSubmit()" -->
      <form [formGroup]="authForm" (ngSubmit)="onSubmit()">
        
        <!-- Login Fields -->
        <ng-container *ngIf="isLogin">
          <mat-form-field appearance="outline">
            <mat-label>Username or Phone Number</mat-label>
            <input matInput placeholder="Username or Phone Number" formControlName="username" required />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput [type]="hide ? 'password' : 'text'" placeholder="Enter your password" formControlName="password" required />
            <button 
              mat-icon-button 
              matSuffix 
              type="button" 
              (click)="hide = !hide" 
              [matTooltip]="hide ? 'Show Password' : 'Hide Password'">
              <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
          </mat-form-field>
          
          
        </ng-container>

        <!-- Sign Up Fields -->
        <!-- <ng-container *ngIf="!isLogin">
          <mat-form-field appearance="outline">
            <mat-label>Full Name</mat-label>
            <input matInput placeholder="Enter your full name" formControlName="name" required />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Enter Phone Number</mat-label>
            <input matInput placeholder="Enter your phone number" formControlName="phone" required />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Create Password</mat-label>
            <input matInput type="password" placeholder="Create your password" formControlName="newPassword" required />
          </mat-form-field>
        </ng-container> -->

        <button class="submit-btn" mat-button type="submit">Log In</button>
      </form>
    </div>
  </div>
</div>
